{"version":3,"sources":["webpack:///./src/views/Chefs.vue?9b65","webpack:///src/views/Chefs.vue","webpack:///./src/views/Chefs.vue?4f8e","webpack:///./src/views/Chefs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","color","dark","_v","_s","app","shopActive","bottom","left","scopedSlots","_u","key","fn","ref","on","_g","icon","click","adios","changeTheme","theme","fluid","grid-list-lg","_l","order","i","staticClass","mb-2","_table","number","new","text-color","right","row","wrap","menu","plate","text-xs-center","xs12","sm6","_f","menus","cantidad","flat","$event","setDone","staticRenderFns","Chefsvue_type_script_lang_js_","name","computed","Object","objectSpread","vuex_esm","orders","data","io","lib","Globales","TokenValid","getAnyUser","mounted","_this","window","Notification","permission","requestPermission","status","console","log","concat","addM","updateM","deleteM","addO","body","vibrate","lang","deleteO","updateO","getOrders","getMenus","methods","setTheme","$router","push","setOrder","filters","nameMenu","value","_len","arguments","length","args","Array","_key","find","m","_id","orderByUpdated","values","toConsumableArray","views_Chefsvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","installComponents_default","VBtn","VCard","VCardActions","components_VCard","VCardTitle","VChip","VContainer","VFlex","VIcon","VLayout","VList","VListTile","VListTileTitle","components_VList","VMenu","VSpacer","VGrid","VToolbar","VToolbarTitle","components_VToolbar"],"mappings":"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","file":"js/Chefs.cb6ec72b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"Chefs\"}},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"\\n      \"+_vm._s(_vm.app)+\"\\n      \"),_c('span',[_vm._v(\"(\"+_vm._s(_vm.shopActive)+\")\")])]),_c('v-spacer'),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"dark\":\"\",\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"more_vert\")])],1)]}}])},[_c('v-list',[_c('v-list-tile',{on:{\"click\":_vm.adios}},[_c('v-list-tile-title',[_vm._v(\"Cerrar sesión\")])],1),_c('v-list-tile',{on:{\"click\":_vm.changeTheme}},[_c('v-list-tile-title',[_vm._v(\"Tema: \"+_vm._s(_vm.theme==='false'?'Negro':'Blanco'))])],1)],1)],1)],1),_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-lg\":\"\"}},_vm._l((_vm.orders),function(order,i){return _c('v-card',{key:i,staticClass:\"mb-2 elevation-5\",attrs:{\"mb-2\":\"\"}},[_c('v-card-title',[_c('span',[_vm._v(\"Mesa. \"+_vm._s(order.order._table.number))]),_c('v-spacer'),_c('v-chip',{attrs:{\"color\":order.new===true?'orange':'indigo',\"text-color\":\"white\"}},[_vm._v(\"\\n          \"+_vm._s(order.new===true?'Nuevo':'Agregar a mesa')+\"\\n          \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(_vm._s(order.new===true?'star':'add'))])],1)],1),_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-lg\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((order.order.menu),function(menu){return _c('v-flex',{key:menu.plate,attrs:{\"text-xs-center\":\"\",\"xs12\":\"\",\"sm6\":\"\"}},[_c('h3',[_vm._v(_vm._s(_vm._f(\"nameMenu\")(menu.plate,_vm.menus))+\"   |    \"+_vm._s(menu.cantidad))])])}),1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.setDone(order.order)}}},[_vm._v(\"Listo\")])],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"Chefs\">\n    <v-toolbar color=\"primary\" dark>\n      <v-toolbar-title>\n        {{app}}\n        <span>({{shopActive}})</span>\n      </v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-menu bottom left>\n        <template v-slot:activator=\"{ on }\">\n          <v-btn dark icon v-on=\"on\">\n            <v-icon>more_vert</v-icon>\n          </v-btn>\n        </template>\n\n        <v-list>\n          <v-list-tile @click=\"adios\">\n            <v-list-tile-title>Cerrar sesión</v-list-tile-title>\n          </v-list-tile>\n          <v-list-tile @click=\"changeTheme\">\n            <v-list-tile-title>Tema: {{theme==='false'?'Negro':'Blanco'}}</v-list-tile-title>\n          </v-list-tile>\n        </v-list>\n      </v-menu>\n    </v-toolbar>\n    <v-container fluid grid-list-lg>\n      <v-card v-for=\"(order,i) in orders\" mb-2 class=\"mb-2 elevation-5\" :key=\"i\">\n        <v-card-title>\n          <span>Mesa. {{ order.order._table.number }}</span>\n          <v-spacer></v-spacer>\n          <v-chip :color=\"order.new===true?'orange':'indigo'\" text-color=\"white\">\n            {{order.new===true?'Nuevo':'Agregar a mesa'}}\n            <v-icon right>{{order.new===true?'star':'add'}}</v-icon>\n          </v-chip>\n        </v-card-title>\n        <v-container fluid grid-list-lg>\n          <v-layout row wrap>\n            <v-flex text-xs-center xs12 sm6 v-for=\"menu in order.order.menu\" :key=\"menu.plate\">\n              <h3>{{menu.plate | nameMenu(menus)}} &nbsp;&nbsp;| &nbsp;&nbsp; {{menu.cantidad}}</h3>\n            </v-flex>\n          </v-layout>\n        </v-container>\n        <v-card-actions>\n          <v-btn flat @click=\"setDone(order.order)\">Listo</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-container>\n  </div>\n</template>\n<script>\nimport { mapState, mapActions, mapMutations, mapGetters } from \"vuex\";\nimport * as io from \"socket.io-client\";\nimport { urlServer, App, sendNotification } from \"@/Helpers/Globales\";\nimport { getAnyUser, logout } from \"@/Helpers/TokenValid\";\nexport default {\n  name: \"Chefs\",\n  computed: {\n    ...mapGetters(\"orders\", {\n      orders: \"getListComplete\"\n    }),\n    ...mapState([\"theme\"]),\n    ...mapState(\"menus\", [\"menus\"])\n  },\n  data: () => ({\n    io: io(urlServer),\n    app: App,\n    shopActive: getAnyUser(\"_shop.name\"),\n    getAnyUser: getAnyUser\n  }),\n  mounted() {\n    if (window.Notification && Notification.permission !== \"denied\") {\n      Notification.requestPermission(status => {\n        console.log(status);\n      });\n    }\n    this.io.on(`menus/${this.getAnyUser(\"_shop._id\")}/add`, this.addM);\n    this.io.on(`menus/${this.getAnyUser(\"_shop._id\")}/update`, this.updateM);\n    this.io.on(`menus/delete`, this.deleteM);\n    this.io.on(`orders/${this.getAnyUser(\"_shop._id\")}/add`, data => {\n      this.addO(data);\n\n      sendNotification(\"Nueva orden\", {\n        body: `Nueva orden para la mesa ${data._table.number}`,\n        vibrate: [100, 50, 100],\n        lang: \"es\"\n      });\n    });\n    this.io.on(`orders/${this.getAnyUser(\"_shop._id\")}/update`, data => {\n      if (data.status === \"Terminada\") {\n        this.deleteO(data);\n      } else {\n        this.updateO(data);\n        sendNotification(\"Nueva orden\", {\n          body: `Agregar a la mesa ${data._table.number}`,\n          vibrate: [100, 50, 100],\n          lang: \"es\"\n        });\n      }\n    });\n    this.io.on(`orders/delete`, this.deleteO);\n    this.getOrders();\n    this.getMenus();\n  },\n  methods: {\n    changeTheme() {\n      this.setTheme(this.theme === \"false\" ? true : false);\n    },\n    adios() {\n      logout();\n      this.$router.push({ name: \"login\" });\n    },\n    ...mapMutations(\"orders\", {\n      addO: \"ADD_CHEF\",\n      setOrder: \"SET\",\n      setDone: \"SET_DONE_CHEF\",\n      updateO: \"UPDATE_CHEF\",\n      deleteO: \"REMOVE_CHEF\"\n    }),\n    ...mapMutations(\"menus\", {\n      addM: \"ADD\",\n      updateM: \"UPDATE\",\n      deleteM: \"REMOVE\"\n    }),\n    ...mapActions(\"menus\", {\n      getMenus: \"getForce\"\n    }),\n    ...mapActions(\"orders\", {\n      getOrders: \"getInProcessChef\"\n    }),\n    ...mapMutations({\n      setTheme: \"SET_THEME\"\n    })\n  },\n  filters: {\n    nameMenu(value, ...args) {\n      if (!value) return \"\";\n      const menu = args[0].find(m => m._id === value);\n      return menu && menu.name ? menu.name : \"\";\n    },\n    orderByUpdated(values) {\n      return [...values];\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chefs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chefs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chefs.vue?vue&type=template&id=4e13c236&scoped=true&\"\nimport script from \"./Chefs.vue?vue&type=script&lang=js&\"\nexport * from \"./Chefs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e13c236\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!d:/proyectos/mevn/restaurantix-vue/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VChip } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VChip,VContainer,VFlex,VIcon,VLayout,VList,VListTile,VListTileTitle,VMenu,VSpacer,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}